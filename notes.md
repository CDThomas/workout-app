# Notes

## Todo
- [x] simple seed exercises
- [x] simple exercise list UI
- [x] add eslint
- [x] basic style improvements for UI (think Product Hunt)
  - Might use CSS modules (can reference ducker webpack config)
- [x] placeholder for exercise thumbnail in UI
- [x] add main muscle worked to exercises
  - this is simpler than going with muscles targeted (many to many)
  - starting here and can change later if I really need to support multiple (start simple and
    move to complex)
  - changed from enum to a one-to-many association
- [x] serialize data for the FE
  - Because snake case in JS annoys me and leads to inconsitency/bugs. And the linter yells at me.
  - And because exercise names have underscores in them (like lower_back)
- [x] add search to exercises
  - [x] API get endpoint that supports query param
  - [x] search UI
- [x] user can create new exercises
  - I'm thinking there should be an "add new" button that pulls up a modal
  - This lets the user stay in the context of creating the routine (don't have to leave the routine
    creation page to add new exercises for that routine)
  - [x] form in UI
    - will need to load muscle group options from BE
  - [x] API endpoints
    - [x] POST /exercises
    - [x] GET /muscles
- [x] search on `main_mucle_worked` as well as `name`
- [x] Handle empty list state in ExercisePanel
- [x] user can create routines
  - [x] add routines and sets to db/models
  - [x] click exercise on left to add to end of exercises on right
- [x] Better error handling
  - Something similar to: https://react.semantic-ui.com/collections/message#message-example-error
- [x] add authentication
  - [x] [Knock](https://github.com/nsarno/knock) looks like a good start. Can roll my own later if I want.
  - [x] Login page
  - [x] Logout link
  - [x] protected routes
- [x] user can view routines they have created
  - This is just in a list for now. Might add a details page/modal later if I want more than the
    editing page
- [x] user can edit routines
  - Can look at Google docs' UX here
  - Thinking I'll use a UUID that's generated by the BE whenever you select to go to the new routine
    page
    - This way, when a user creates a new routine or is editing an existing routine they will go to
      `/routines/:uuid` or maybe `/routines/:uuid/edit` if I want to differentiate between editing
      and viewing details
- [x] user can delete a set from a routine
- [x] user can delete routines
- [x] routine list empty state (for when no routines have been created or search returns nothing)
- [x] add Redux for state management
  - I think Redux would be a good fit for the routine editor
    - optimistic updates
    - should be useful for 'undo' feature
    - keeping state changes organized and understandable as I add features to the editor
    - routine caching
- [ ] Add drag-and-drop support
  - [x] Rename 'fafSets' to 'faSets'
  - [x] Add setNumber column to FafSets table
  - [x] sort the SetItems in SetList by setNumber (rather than ID)
  - [ ] Add [ReactDND](http://react-dnd.github.io/react-dnd/)
  - [ ] drag and drop sets to change order
  - [ ] drag exercise from list to place in order in sets on right
    - Will probably do this separately because this will be a large set of
      changes already
- [ ] add images to exercises
  - I'm thinking google cloud storage because it'd be free
  - can use carrierwave/fog
  - or paperclip/fog
  - or cloudinary
- [ ] paginate exercises
  - [ ] pagination BE
    - See https://github.com/rails-api/active_model_serializers/blob/master/docs/howto/add_pagination_links.md
  - [ ] pagination FE (infinate scroll or "load more")
    - See http://redux.js.org/docs/introduction/Examples.html#real-world
- [ ] Improve editing saved/unsaved/loading state UX
  - As a user, I want to be able to easily see if I have unsaved work when I'm
    editing a routine
    - prob add the words "Unsaved Changes" to RoutineEditor header, or change
      the appearance of the save button. Or both
  - I'm thinking I'll also add a spinner (saving) and a check mark (saved) to
    RoutineEditorHeader
    - The checkmark might only display for a few seconds
- [ ] user can edit exercises
- [ ] Add tests for more than just models
- [ ] User can sort routines list by date created
  - [ ] paginate routines
  - [ ] add sort param for searching
- [ ] make UX for multiple saves while editing a routine more intuitive
  - right now the first success message appears to stay up until there's an error, so it's not clear that
    each save after the first save actually worked
  - I'm thinking that toasts might be nice for this too, which I'll add when I add redux
- [ ] on routine editor, scroll down if new set is added out of view
- [ ] add more details to list on RoutinesPage
  - Number of sets in the routine, all muscles worked, number of times completed, created at,
    last performed, etc
- [ ] client-side validation of forms/inputs with feedback for user
- [ ] ErrorMessage component
- [ ] try using JSON schemas for validation (ex: in POST to routines#create)
  - I think this would be cleaner than `accepts_nested_attributes_for` because the FE can send nicely
    formatted JSON without using rails conventions
    - specifically, `{ "fafSetsAttributes": { ... } }` is awkward
- [ ] something to make it more obvious that the newly created exercise is at the top of the list
      would be helpful. Maybe animate it or highlight it?
  - sliding the new exercise in after the modal has closed sounds like a good option
  - or I could just apply a generally animation to the list for things being added/removed, and this
    could handle itself. The only other time this animation would fire is during search though.
- [ ] animate search on the exercise list? eh?
- [ ] animate Message component entering dom
  - https://facebook.github.io/react/docs/animation.html
- [ ] exercise details component
  - I'm thinking a modal (like how Product Hunt's product details work)
  - Details could include instructions, your performances/history, etc
- [ ] webpack optimization stuff
  - lodash
- [ ] add autoprefixer
  - will either be handled with PostCSS or by styled-components
- [ ] Could show user names of similar exercises that have been created while creating an exercise
- [ ] Favicon
- [ ] prevent scrolling on parent elements (document body) when ExercisePanel reaches its boundaries
  - Can terribly hackily toggle `overflow: hidden` on `document.body` on mouse enter/leave
  - can do something like on of these in a HOC
    - http://jsbin.com/itajok/539/edit?html,js,output (best looking so far)
    - https://codepen.io/somethingkindawierd/post/react-mixin-scroll-lock
    - https://dimakuzmich.wordpress.com/2013/07/16/prevent-scrolling-of-parent-element-with-javascript/
- [ ] style refactoring
  - I'm thinking either styled-component/polished, css-modules, SASS, or some combination
  - Also auto-prefix with PostCSS (unless using styled-components)
- [ ] Improve login/authentication UX by not requiring the user to sign in daily due to token
      expiration
  - [this](http://stackoverflow.com/a/26834685) method looks simplest
  - could also look into refresh tokens
- readme
  - [ ] .env
  - [ ] startup
  - [ ] deployment
- draft routines?
- TODO's anywhere in code
